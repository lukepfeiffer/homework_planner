%h1.page-header Courses
%section#courses
  - if user_signed_in?
    %button.btn.btn-default.show_form Add Course
    .hidden_form
      = form_for course do |f|
        %fieldset
          = f.hidden_field :user_id, value: current_user.id
          .form-group.col-md-12
            %dl
              .col-md-6
                %dt= f.label :course_name
                %dd= f.text_field :name, class: 'form-control'
              .col-md-6
                %dt= f.label :teacher_name
                %dd= f.text_field :teacher_name, class: 'form-control'
          .form-group.col-md-12
            %dl
              .col-md-4
                %dt= f.label :start_time
                %dd= f.time_select :start_time, ampm: true

              .col-md-4
                %dt= f.label :end_time
                %dd= f.time_select :end_time, ampm: true

              .col-md-4
                %dt= f.label :days_of_the_week
                %ul.dropdown-menu
        %fieldset.actions
          = f.submit 'Add Course', class: 'btn btn-success btn-sm', id: 'submit_course'
    %table.table.table-striped
      %thead
        %tr
          %th Course Name
          %th Teacher Name
          %th # of assignments
          %th Schedule
          %th
      %tbody
        - courses.each do |course|
          %tr
            %td.col-md-2= course.name
            %td.col-md-2= course.teacher_name
            %td.col-md-2= course.homeworks.count
            %td.col-md-3
              = course.start_time.strftime('%I:%M %p') + ' - '
              = course.end_time.strftime('%I:%M %p')
            %td.col-md-5
              %button.btn.btn-warning.btn-xs Edit Course
              %button.btn.btn-danger.btn-xs Delete Course
  - else
    = render 'example'
